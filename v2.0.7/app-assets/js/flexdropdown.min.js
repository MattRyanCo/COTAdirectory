function ddlistmenu(e,t){var n=document.createElement("ul");if(e)n.id=e;if(t)n.className=t;this.menu=n}jQuery.noConflict();var flexdropdownmenu={arrowpath:"/images/navdown_blue.gif",animspeed:200,showhidedelay:[300,300],startzindex:1e3,ismobile:navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)!=null,builtflexmenuids:[],positionul:function(e,t,n,r){var i=t.hasClass("jqflexmenu");var s=e(document).scrollLeft()+e(window).width()-40;var o=e(document).scrollTop()+e(window).height()-40;if(i){var u=r.offset();var a=r.data("setting");var f=u.left+a.useroffsets[0]+(a.dir=="h"?r.outerWidth():0);var l=u.top+a.useroffsets[1]+(a.dir=="h"?0:r.outerHeight());f=f+t.data("dimensions").w>s?f-a.useroffsets[0]*2-t.data("dimensions").w+r.outerWidth()+(a.dir=="h"?-(r.outerWidth()*2):0):f;if(f<0){f=0}}else{var c=t.data("$parentliref");var h=c.offset();var f=t.data("dimensions").parentliw;var l=0;f=h.left+f+t.data("dimensions").w>s?f-t.data("dimensions").parentliw-t.data("dimensions").w:f}t.css({left:f,top:l})},showbox:function(e,t,n,r){clearTimeout(n.data("timers").hidetimer);n.data("timers").showtimer=setTimeout(function(){t.addClass("selected");n.show(flexdropdownmenu.animspeed)},this.showhidedelay[0])},hidebox:function(e,t,n){clearTimeout(n.data("timers").showtimer);n.data("timers").hidetimer=setTimeout(function(){t.removeClass("selected");n.hide(100)},this.showhidedelay[1])},buildflexmenu:function(e,t,n){t.css({display:"block",visibility:"hidden",zIndex:this.startzindex}).addClass("jqflexmenu").appendTo(document.body);t.on("mouseenter",function(){clearTimeout(t.data("timers").hidetimer)});t.on("mouseleave",function(){flexdropdownmenu.hidebox(e,n,t)});t.data("dimensions",{w:t.outerWidth(),h:t.outerHeight()});t.data("timers",{});var r=t.find("ul").parent();r.each(function(t){var n=e(this).css({zIndex:1e3+t});var r=n.find("ul:eq(0)").css({display:"block"});r.data("dimensions",{w:r.outerWidth(),h:r.outerHeight(),parentliw:this.offsetWidth,parentlih:this.offsetHeight});r.data("$parentliref",n);r.data("timers",{});n.data("$subulref",r);n.children("a:eq(0)").append('<img src="'+flexdropdownmenu.arrowpath+'" class="rightarrowclass" style="border:0;" />');n.on(flexdropdownmenu.triggerevt,function(t){var n=e(this).css("zIndex",++flexdropdownmenu.startzindex).addClass("selected").data("$subulref");if(n.queue().length<=1){clearTimeout(n.data("timers").hidetimer);n.data("timers").showtimer=setTimeout(function(){flexdropdownmenu.positionul(e,n,t);n.show(flexdropdownmenu.animspeed)},flexdropdownmenu.showhidedelay[0]);if(flexdropdownmenu.triggerevt=="click"&&e(t.target).next("ul").length==1)return false}});n.on("mouseleave",function(t){var n=e(this).data("$subulref");clearTimeout(n.data("timers").showtimer);n.data("timers").hidetimer=setTimeout(function(){n.hide(100).data("$parentliref").removeClass("selected")},flexdropdownmenu.showhidedelay[1])})});t.find("ul").addBack().css({display:"none",visibility:"visible"});this.builtflexmenuids.push(t.get(0).id)},init:function(e,t,n){this.triggerevt=this.ismobile?"click":"mouseenter";this.showhidedelay[0]=this.ismobile?0:this.showhidedelay[0];if(this.builtflexmenuids.length==0){e(document).on("click",function(t){if(t.button==0){e(".jqflexmenu").find("ul").addBack().hide()}})}if(jQuery.inArray(n.get(0).id,this.builtflexmenuids)==-1)this.buildflexmenu(e,n,t);if(t.parents().filter("ul.jqflexmenu").length>0)return;var r=t.attr("data-offsets")?t.attr("data-offsets").split(","):[0,0];r=[parseInt(r[0]),parseInt(r[1])];t.data("setting",{dir:t.attr("data-dir"),useroffsets:r});t.on(flexdropdownmenu.triggerevt,function(r){n.css("zIndex",++flexdropdownmenu.startzindex);flexdropdownmenu.positionul(e,n,r,t);flexdropdownmenu.showbox(e,t,n,r);if(flexdropdownmenu.triggerevt=="click")r.preventDefault()});t.on("mouseleave",function(r){flexdropdownmenu.hidebox(e,t,n)})}};jQuery.fn.addflexmenu=function(e,t){var n=jQuery;return this.each(function(){var r=n(this);if(typeof t=="object"){if(t.dir)r.attr("data-dir",t.dir);if(t.offsets)r.attr("data-offsets",t.offsets)}if(n("#"+e).length==1)flexdropdownmenu.init(n,r,n("#"+e))})};jQuery(document).ready(function(e){var t=e("*[data-flexmenu]");t.each(function(){e(this).addflexmenu(this.getAttribute("data-flexmenu"))})});ddlistmenu.prototype={addItem:function(e,t,n){var r=document.createElement("li");r.innerHTML='<a href="'+e+'" target="'+n+'">'+t+"</a>";this.menu.appendChild(r);this.li=r;return this},addSubMenu:function(){var e=new ddlistmenu(null,null);this.li.appendChild(e.menu);return e}}